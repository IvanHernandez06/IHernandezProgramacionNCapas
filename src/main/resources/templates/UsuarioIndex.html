<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Agregar un Usuario</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    </head>
    <body>
        <div class="container">
            <div style="position: relative; height: 20px; left: 1300;margin-top: 25px;">  
                <a th:href="@{/Usuario/action/{idUsuario}(idUsuario=0)}">
                <i class="bi bi-person-add"  style="font-size: 4rem;color: black;"></i>
                </a>
                
            </div>
            <table class="table table-hover">
                <thead class="table-dark">
                <th class="col-1"></th>
                <th class="col-2">Nombre</th>
                <th class="col-5">Contacto</th>
                <th class="col-4">Dirección</th>
                </thead>
                <tbody>
                    <tr  th:each="usuarios : ${usuarios}">
                        <td><a  
                                th:href="@{/Usuario/usuarioDetail/{idUsuario}(idUsuario = ${usuarios.idUsuario})}"
                                class="btn btn-warning"><i class="bi bi-pencil-square"></i></a>
                            <a class="btn btn-danger"><i class="bi bi-trash3-fill"></i></a></td>

                        <td th:text="|${usuarios.Nombre} ${usuarios.ApellidoPaterno} ${usuarios.ApellidoMaterno}|"></td>
                        <td th:utext="|Email: ${usuarios.Email} <p>  
                            Fecha de Nacimiento: ${usuarios.fechaNacimiento.substring(0, 10)} <p>
                            Telefono: ${usuarios.Telefono}  <p>
                            Celular: ${usuarios.Celular} <p>
                            Curp: ${usuarios.Curp}
                            |"></td>

                        <td>
                            <div th:if="${usuarios.Direccion != null and !usuarios.Direccion.isEmpty()}">
                                <div th:each="direccion : ${usuarios.Direccion}" class="mb-2 border-bottom pb-2">
                                    <div>Calle: <span th:text="${direccion.calle}"></span></div>
                                    <div>NumInterior: <span th:text="${direccion.NumInterior}"></span></div>
                                    <div>NumExterior: <span th:text="${direccion.NumExterior}"></span></div>
                                    <div>Colonia: <span th:text="${direccion.Colonia.nombre}"></span></div>
                                    <div>Código Postal: <span th:text="${direccion.Colonia.CodigoPostal}"></span></div>
                                    <div>Municipio: <span th:text="${direccion.Colonia.Municipio.Nombre}"></span></div>
                                    <div>Estado: <span th:text="${direccion.Colonia.Municipio.Estado.Nombre}"></span></div>
                                    <div>País: <span th:text="${direccion.Colonia.Municipio.Estado.Pais.Nombre}"></span></div>
                                </div>
                            </div>
                            <div th:if="${usuarios.Direccion == null or usuarios.Direccion.isEmpty()}">
                                Sin dirección registrada
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </body>
</html>
